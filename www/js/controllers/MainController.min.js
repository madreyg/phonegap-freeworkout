define(["jquery","backbone","../models/SportgroundsModel","../models/ExercisesModel","../models/ExercisesMapModel","../models/TrainersModel","../views/listsViews/SportgroundListView","../views/SportgroundView","../views/listsViews/ExercisesListView","../views/ExercisesView","../views/ExercisesMapView","../views/listsViews/TrainersListView","../views/TrainersView","../collections/SportgroundsCollection","../collections/ExercisesCollection","../collections/TrainersCollection","text!../../templates/exercisesMap.html","text!../../templates/sendersForm.html"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){return{home:function(){a.mobile.loading("show");var b=new n,c=new g({collection:b});a("#header h1").text("Спортплощадки"),b.fetch({reset:!0,success:function(b,d,e){a.mobile.loading("hide"),a("#content").html(c.render().$el).trigger("create"),a("#container").page("destroy").page()},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},sportgroundsDetail:function(b){a.mobile.loading("show");var d=new c({id:b}),e=new h({model:d});a("#header h1").text("Спортплощадка"),d.fetch({reset:!1,success:function(b,c,d){a.mobile.loading("hide"),a("#content").html(e.render().$el).trigger("create")},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},exercisesList:function(){a.mobile.loading("show");var b=new o,c=new i({collection:b});a("#header h1").text("Упражнения"),b.fetch({reset:!0,success:function(b,d,e){a.mobile.loading("hide"),a("#content").html(c.render().$el).trigger("create"),a("#container").page("destroy").page(),a(".ui-content").css("padding",0)},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},exercisesDetail:function(b){a.mobile.loading("show");var c=new d({id:b}),e=new j({model:c});a("#header h1").text("Упражнение"),c.fetch({reset:!1,success:function(b,c,d){a.mobile.loading("hide"),a("#content").html(e.render().$el).trigger("create")},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},sportgroundsMap:function(b,c,d,e){a.mobile.loading("hide"),a("#header h1").text("Расположение"),a("#content").html(q).trigger("create"),a(document).ready(ymaps.ready(function(){a("#executormap").css("height",a(window).height()),a("#executormap").css("width",a(window).width());var b=[parseFloat(c),parseFloat(d)],f=new ymaps.Map("executormap",{center:b,zoom:13});f.geoObjects.add(new ymaps.Placemark(b,{balloonContent:e},{preset:"islands#dotIcon",iconColor:"#735184",balloonCloseButton:!0,hideIconOnBalloonOpen:!1})),f.container.fitToViewport(),a("#content-map").css("display","none"),a(".ui-icon-back").attr("href","#"),a(".map-header-text").text("Расположение спортплощадки"),a("#content-map").css("display","none"),a(".ui-icon-back").attr("href","#exercises"),a(".ui-icon-back").one("vclick",function(b){a.mobile.navigate("#sport-grounds",!0),b.preventDefault()}),a(".map-header-text").text("Расположение спортплощадки")}))},exercisesMap:function(b){a.mobile.loading("show");var c=new e({id:b}),d=new k({model:c});a("#header h1").text("Расположение"),c.fetch({reset:!1,success:function(b,c,e){a.mobile.loading("hide"),a("#content").html(d.render().$el).trigger("create"),a(document).ready(ymaps.ready(function(){a("#executormap").css("height",a(window).height()),a("#executormap").css("width",a(window).width());var b=new ymaps.Map("executormap",{center:[59.94882257,30.30817193],zoom:10});a.each(c,function(a,c){b.geoObjects.add(new ymaps.Placemark([c.point.lat,c.point.lng],{balloonContent:c.address,balloonPanelMaxMapArea:0},{preset:"islands#dotIcon",iconColor:"#735184",balloonCloseButton:!0,hideIconOnBalloonOpen:!1}))})})),a("#content-map").css("display","none"),a(".ui-icon-back").attr("href","#exercises"),a(".ui-icon-back").one("vclick",function(b){a.mobile.navigate("#exercises",!0)}),a(".map-header-text").text("Расположение спортплощадок")},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},trainersList:function(){a.mobile.loading("show");var b=new p,c=new l({collection:b});a("#header h1").text("Тренировки"),b.fetch({reset:!0,success:function(b,d,e){a.mobile.loading("hide"),a("#content").html(c.render().$el).trigger("create")},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},trainersDetail:function(b){a.mobile.loading("show");var c=new f({id:b}),d=new m({model:c});a("#header h1").text("Тренировка"),c.fetch({reset:!1,success:function(b,c,e){a.mobile.loading("hide"),a("#content").html(d.render().$el).trigger("create")},error:function(a,b,c){alert("Не удалось получить данные с сервера.")}})},senders:function(){a.mobile.loading("hide"),a("#header h1").text("Расположение"),a("#content").html(r).trigger("create"),a("#form-sender").validate({rules:{sender:{required:!0},message:{required:!0},email:{required:!0}},messages:{sender:{required:"Введите ФИО."},message:{required:"Введите сообщение."},email:{required:"Введите email."}},errorPlacement:function(a,b){a.appendTo(b.parent().prev())},submitHandler:function(b){return console.log("esss"),email=a(b).find("#email").val(),sender=a(b).find("#sender").val(),message=a(b).find("#message").val(),subject=a(b).find("#subject").val(),data={email:email,sender:sender,message:message,subject:subject},a.ajax({type:"POST",data:data,url:"http://free-workout.ru/feedback/api/request/",success:function(b,c,d){console.log("work"),a("#content").html("<h3>Спасибо за помощь в развитии проекта. Ваше предложение/спортплощадка отправлены.</h3")}}),!1}})},"default":function(){alert("нет такого урла")}}});